<div class="cart-container">
  
  <div class="header">
    <h2>Tu Pedido</h2>
  </div>

  @if (cartItems.length > 0) {
    
    <!-- LISTA DE ITEMS -->
    <div class="items-list">
      @for (item of cartItems; track item.product.id) {
        <div class="cart-item">
          
          <!-- Info Producto -->
          <div class="item-info">
            <h3 class="item-name">{{ item.product.name }}</h3>
            <p class="item-price">$ {{ item.product.price | number:'1.0-0' }} c/u</p>
          </div>

          <!-- Controles de Cantidad -->
          <div class="item-actions">
            
            <div class="qty-control">
              <button class="btn-qty minus" (click)="decreaseQty(item)">−</button>
              <span class="qty">{{ item.quantity }}</span>
              <button class="btn-qty plus" (click)="increaseQty(item)">+</button>
            </div>

            <!-- Subtotal del item -->
            <span class="item-subtotal">$ {{ item.subtotal | number:'1.0-0' }}</span>
            
            <!-- Botón Eliminar -->
            <button class="btn-remove" (click)="removeItem(item)">
              <i class="fa-solid fa-trash"></i>
            </button>
          </div>

        </div>
      }
    </div>

    <!-- RESUMEN FINAL (Sticky Bottom) -->
    <div class="checkout-panel">
      
      <div class="summary-row">
        <span>Subtotal</span>
        <span>$ {{ total | number:'1.0-0' }}</span>
      </div>

      <div class="total-row">
        <span>Total</span>
        <span class="total-amount">$ {{ total | number:'1.0-0' }}</span>
      </div>

      <button class="btn-checkout" (click)="checkout()">
        Confirmar Pedido
      </button>
    </div>

  } @else {
    
    <!-- ESTADO VACÍO -->
    <div class="empty-state">
      <div class="icon">
        <i class="fa-solid fa-cart-shopping"></i>
      </div>
      <h3>Tu carrito está vacío</h3>
      <p>¡Agrega algunas cosas deliciosas del menú!</p>
    </div>
  }

</div>
